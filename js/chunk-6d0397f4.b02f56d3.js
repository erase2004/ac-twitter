(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d0397f4"],{3530:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"logo d-flex justify-content-center"},[s("icon",{attrs:{"icon-name":"logo-50","icon-class":"logo-50"}})],1),s("form",{staticClass:"w-70 mx-auto",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[t._m(0),s("div",{staticClass:"form-label-group"},[s("div",{staticClass:"form-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"text",autocomplete:"username",required:"",autofocus:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("label",{attrs:{for:"account"}},[t._v("帳號")]),s("span",{staticClass:"line"})]),s("div",{staticClass:"form-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",autocomplete:"current-password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("label",{attrs:{for:"password"}},[t._v("密碼")]),s("span",{staticClass:"line"})])]),s("button",{staticClass:"btn btn-lg btn-block btn-control",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" 登入 ")]),s("div",{staticClass:"front-login d-flex justify-content-end"},[s("p",[s("router-link",{staticClass:"to-signin",attrs:{to:"/signin"}},[t._v(" 前台登入 ")])],1)])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h1",[t._v("後台登入")])])}],r=s("1da1"),o=(s("96cf"),s("d9e2"),s("7696")),c=s("2fa3"),i={data:function(){return{account:"",password:"",isProcessing:!1}},methods:{handleSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.account&&t.password){e.next=4;break}return c["a"].fire({icon:"warning",title:"請填入帳號和密碼"}),e.abrupt("return");case 4:return t.isProcessing=!0,e.next=7,o["a"].adminSignIn({account:t.account,password:t.password});case 7:if(s=e.sent,a=s.data,"error"!==a.status){e.next=11;break}throw new Error(a.message);case 11:if(n=a.userData,localStorage.setItem("token",a.token),"error"!==a.status){e.next=15;break}throw new Error(a.message);case 15:t.$store.commit("setCurrentUser",n),t.$router.push("/admin/tweets"),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](0),console.error(e.t0),c["a"].fire({icon:"error",title:e.t0.message});case 23:return e.prev=23,t.isProcessing=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,19,23,26]])})))()}}},u=i,l=(s("a689"),s("2877")),p=Object(l["a"])(u,a,n,!1,null,"5e0e228d",null);e["default"]=p.exports},"5c14":function(t,e,s){},7696:function(t,e,s){"use strict";var a=s("5530"),n=s("2fa3");e["a"]={userSignUp:function(t){return n["b"].post("/users",Object(a["a"])({},t))},userSignIn:function(t){var e=t.account,s=t.password;return n["b"].post("/users/login",{account:e,password:s})},adminSignIn:function(t){var e=t.account,s=t.password;return n["b"].post("/admin/users/login",{account:e,password:s})}}},a689:function(t,e,s){"use strict";s("5c14")}}]);
//# sourceMappingURL=chunk-6d0397f4.b02f56d3.js.map