{"version":3,"sources":["webpack:///./src/views/UserSignIn.vue?c46f","webpack:///./src/components/GeneralInput.vue?0e9b","webpack:///src/components/GeneralInput.vue","webpack:///./src/components/GeneralInput.vue?ff9e","webpack:///./src/components/GeneralInput.vue","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/assets/images/Logo.png","webpack:///./src/apis/authorization.js","webpack:///./src/views/UserSignIn.vue?6101","webpack:///src/views/UserSignIn.vue","webpack:///./src/views/UserSignIn.vue?ae20","webpack:///./src/views/UserSignIn.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/GeneralInput.vue?f70b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","prefix","class","isValid","attrs","inputType","minlength","maxlength","name","required","domProps","value","on","$event","stopPropagation","preventDefault","target","inputChange","label","errorMessage","directives","rawName","showLimit","expression","limitText","staticRenderFns","props","type","default","initialValue","doTrim","data","computed","validType","includes","watch","newValue","created","methods","trim","$emit","component","$","$trim","forcedStringTrimMethod","proto","forced","module","exports","userSignUp","apiHelper","post","userSignIn","account","password","adminSignIn","handleSubmit","apply","arguments","LogoImg","_l","key","_b","error","inputConfig","_m","components","GeneralInput","mixins","inputKeys","pass","status","message","authorizationAPI","localStorage","console","Toast","icon","title","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","METHOD_NAME"],"mappings":"kHAAA,W,oCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACF,EAAG,OAAO,CAACE,YAAY,UAAU,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,WAAWL,EAAG,QAAQ,CAACM,MAAM,CAAC,SAAYV,EAAIW,SAASC,MAAM,CAAC,KAAOZ,EAAIa,UAAU,UAAYb,EAAIc,UAAU,UAAYd,EAAIe,UAAU,KAAOf,EAAIgB,KAAK,SAAWhB,EAAIiB,UAAUC,SAAS,CAAC,MAAQlB,EAAImB,OAAOC,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,kBAAkBD,EAAOE,iBAAiBvB,EAAImB,MAAQE,EAAOG,OAAOL,OAAO,OAAS,SAASE,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBvB,EAAIyB,YAAYJ,EAAOG,OAAOL,WAAWf,EAAG,MAAM,CAACE,YAAY,uBAAuBF,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAI0B,UAAUtB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOM,MAAM,CAAC,MAAQZ,EAAI2B,eAAe,CAAC3B,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI2B,cAAc,OAAOvB,EAAG,MAAM,CAACwB,WAAW,CAAC,CAACZ,KAAK,OAAOa,QAAQ,SAASV,MAAOnB,EAAI8B,WAAc9B,EAAIe,UAAY,EAAIgB,WAAW,iCAAiCzB,YAAY,SAAS,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIgC,WAAW,YACxmCC,EAAkB,GC+CP,G,wCAAA,CACbC,MAAOA,CAELzB,OAAQA,CACN0B,KAAMA,OACNlB,UAAUA,EACVmB,QAASA,IAGXV,MAAOA,CACLS,KAAMA,OACNlB,UAAUA,EACVmB,QAASA,IAGXvB,UAAWA,CACTsB,KAAMA,OACNlB,UAAUA,EACVmB,QAASA,QAGXtB,UAAWA,CACTqB,KAAMA,OACNlB,UAAUA,EACVmB,SAAUA,GAGZrB,UAAWA,CACToB,KAAMA,OACNlB,UAAUA,EACVmB,SAAUA,GAGZpB,KAAMA,CACJmB,KAAMA,OACNlB,UAAUA,EACVmB,QAASA,IAGXnB,SAAUA,CACRkB,KAAMA,QACNlB,UAAUA,EACVmB,SAASA,GAGXC,aAAcA,CACZF,KAAMA,CAACA,OAAQA,QACflB,UAAUA,EACVmB,QAASA,IAGXT,aAAcA,CACZQ,KAAMA,OACNlB,UAAUA,EACVmB,QAASA,IAGXN,UAAWA,CACTK,KAAMA,QACNlB,UAAUA,EACVmB,SAASA,GAGXE,OAAQA,CACNH,KAAMA,QACNlB,UAAUA,EACVmB,SAASA,IAGbG,KArEF,WAsEI,MAAO,CACLpB,MAAOA,GACPR,SAASA,IAGb6B,SAAUA,CACRR,UADJ,WAEM,IAAN,sBAEM,OAAIS,EAAUC,SAASzC,KAAKY,YAAcZ,KAAKc,UAAY,EAClD,GAAf,qDAGa,KAGX4B,MAAOA,CACLN,aADJ,SACAO,GACM3C,KAAKkB,MAAQyB,GAEfjB,aAJJ,SAIAiB,GACM3C,KAAKU,QAAuB,KAAbiC,IAGnBC,QA9FF,WA+FI5C,KAAKkB,MAAQlB,KAAKoC,cAEpBS,QAASA,CACPrB,YADJ,SACAN,GAC2B,kBAAVA,IAAsC,IAAhBlB,KAAKqC,SACpCrC,KAAKkB,MAAQA,EAAM4B,QAIrB9C,KAAK+C,MAAM,eAAgB/C,KAAKkB,WCxJgT,I,wBCQlV8B,EAAY,eACd,EACAlD,EACAkC,GACA,EACA,KACA,WACA,MAIa,OAAAgB,E,6CClBf,IAAIC,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAA4BJ,KAC5CK,EAAyB,EAAQ,QAIrCF,EAAE,CAAE1B,OAAQ,SAAU6B,OAAO,EAAMC,OAAQF,EAAuB,SAAW,CAC3EL,KAAM,WACJ,OAAOI,EAAMlD,U,mBCTjBsD,EAAOC,QAAU,soD,qFCEF,QACbC,WADa,SACDlB,GACV,OAAOmB,OAAUC,KAAK,SAAf,kBACFpB,KAGPqB,WANa,YAMsB,IAArBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACrB,OAAOJ,OAAUC,KAAK,eAAgB,CACpCE,UACAC,cAGJC,YAZa,YAYuB,IAArBF,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACtB,OAAOJ,OAAUC,KAAK,qBAAsB,CAC1CE,UACAC,gB,oECjBN,IAAI/D,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,OAAOc,GAAG,CAAC,OAAS,SAASC,GAAyD,OAAjDA,EAAOE,iBAAiBF,EAAOC,kBAAyBtB,EAAIgE,aAAaC,MAAM,KAAMC,cAAc,CAAC9D,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWM,MAAM,CAAC,IAAMZ,EAAImE,WAAW/D,EAAG,KAAK,CAACE,YAAY,iBAAiB,CAACN,EAAIO,GAAG,sBAAsBH,EAAG,MAAM,CAACE,YAAY,mBAAmBN,EAAIoE,GAAIpE,EAAa,WAAE,SAASqE,GAAK,OAAOjE,EAAG,eAAeJ,EAAIsE,GAAG,CAACD,IAAIA,EAAIzD,MAAM,CAAC,KAAOyD,EAAI,gBAAgBrE,EAAIuC,KAAK8B,GAAK,gBAAgBrE,EAAIuE,MAAMF,IAAMjD,GAAG,CAAC,eAAe,SAASC,GAAQrB,EAAIuC,KAAK8B,GAAOhD,KAAU,eAAerB,EAAIwE,YAAYH,IAAK,OAAU,GAAGrE,EAAIyE,GAAG,GAAGrE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,cAAc,CAACE,YAAY,gBAAgBM,MAAM,CAAC,GAAK,YAAY,CAACZ,EAAIO,GAAG,oBAAoBH,EAAG,OAAO,CAACJ,EAAIO,GAAG,OAAOH,EAAG,cAAc,CAACE,YAAY,gBAAgBM,MAAM,CAAC,GAAK,WAAW,CAACZ,EAAIO,GAAG,aAAa,MACn+B0B,EAAkB,CAAC,WAAa,IAAIjC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,c,iHCqD/L,yBACA,GACEsD,QAASA,CACPnC,MAAOA,KACPb,UAAWA,OACXC,UAAWA,EACXC,UAAWA,GACXE,UAAUA,GAEZ6C,SAAUA,CACRpC,MAAOA,KACPb,UAAWA,WACXC,UAAWA,EACXC,UAAWA,GACXE,UAAUA,IAIC,GACbD,KAAMA,aACN0D,WAAYA,CACVC,aAAJA,QAEEC,OAAQA,CAACA,QAETrC,KAPF,WAQI,MAAO,CACL4B,QAANA,IACM5B,KAAMA,CACJsB,QAASA,GACTC,SAAUA,IAEZS,MAAOA,CACLV,QAASA,GACTC,SAAUA,IAEZe,UAANA,EACML,YAANA,IAGE1B,QAASA,CACPkB,aADJ,WACA,sLAIAc,GAAA,EAEA,mBACA,oBAPA,EASA,+BAAAC,EATA,EASAA,OAAAC,EATA,EASAA,SACA,QACA,kBACAF,MAZA,EAeA,iCAAAC,EAfA,EAeAA,OAAAC,EAfA,EAeAA,SACA,QACA,mBACAF,OAGAA,MArBA,oEAyBAG,mBACApB,uBACAC,2BA3BA,oBAyBAvB,EAzBA,EAyBAA,KAMAA,mBA/BA,qBAgCA,qBAhCA,wBAiCA,0BAjCA,+BAqCA,qBArCA,wBAsCA,2BAtCA,kCA0CA,0BA1CA,2BA8CA2C,sCACA,6CACA,wBAhDA,qDAkDAC,oBAEAC,aACAC,aACAC,uBAtDA,+DC/FoV,I,wBCQhVrC,EAAY,eACd,EACAlD,EACAkC,GACA,EACA,KACA,WACA,MAIa,aAAAgB,E,8BCnBf,IAAIsC,EAAuB,EAAQ,QAA8BC,OAC7DC,EAAQ,EAAQ,QAChBC,EAAc,EAAQ,QAEtBC,EAAM,MAIVpC,EAAOC,QAAU,SAAUoC,GACzB,OAAOH,GAAM,WACX,QAASC,EAAYE,MAChBD,EAAIC,OAAmBD,GACtBJ,GAAwBG,EAAYE,GAAa5E,OAAS4E,O,kCCZpE","file":"js/chunk-d474e9b0.e4ded5a9.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSignIn.vue?vue&type=style&index=0&id=1467ed11&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"input-group\"},[_c('span',{staticClass:\"input-container\"},[_c('span',{staticClass:\"prefix\"},[_vm._v(_vm._s(_vm.prefix))]),_c('input',{class:{'invalid': !_vm.isValid},attrs:{\"type\":_vm.inputType,\"minlength\":_vm.minlength,\"maxlength\":_vm.maxlength,\"name\":_vm.name,\"required\":_vm.required},domProps:{\"value\":_vm.value},on:{\"input\":function($event){$event.stopPropagation();$event.preventDefault();_vm.value = $event.target.value},\"change\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.inputChange($event.target.value)}}}),_c('div',{staticClass:\"input-status-bar\"})]),_c('label',{staticClass:\"input-label\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"input-status-info\"},[_c('div',{staticClass:\"text\",attrs:{\"title\":_vm.errorMessage}},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLimit && (_vm.maxlength > 0)),expression:\"showLimit && (maxlength > 0)\"}],staticClass:\"limit\"},[_vm._v(\" \"+_vm._s(_vm.limitText)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n名稱：泛用型文字輸入框\n用法：請參照Props區域，在使用時，傳入必要的設定\n功能：\n  1. 顯示初始文字\n  2. 輸入內容長度限制\n  3. 即時顯示輸入內容上限顯示\n  4. 顯示錯誤提示訊息\n  5. 有預設顯示、focus/active狀態顯示和錯誤狀態顯示\n  6. 可設定輸入內容是否對頭尾空白進行去除\n-->\n\n<template>\n  <section class=\"input-group\">\n    <span class=\"input-container\">\n      <span class=\"prefix\">{{ prefix }}</span>\n      <input\n        :value=\"value\"\n        :class=\"{'invalid': !isValid}\"\n        :type=\"inputType\"\n        :minlength=\"minlength\"\n        :maxlength=\"maxlength\"\n        :name=\"name\"\n        :required=\"required\"\n        @input.stop.prevent=\"value = $event.target.value\"\n        @change.stop.prevent=\"inputChange($event.target.value)\"\n      >\n      <div class=\"input-status-bar\" />\n    </span>\n    <label class=\"input-label\">{{ label }}</label>\n    <div class=\"input-status-info\">\n      <div\n        class=\"text\"\n        :title=\"errorMessage\"\n      >\n        {{ errorMessage }}\n      </div>\n      <div\n        v-show=\"showLimit && (maxlength > 0)\"\n        class=\"limit\"\n      >\n        {{ limitText }}\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  props: {\n    // 輸入框是否有前綴\n    prefix: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    // 輸入框標籤文字\n    label: {\n      type: String,\n      required: true,\n      default: ''\n    },\n    // 輸入框type屬性\n    inputType: {\n      type: String,\n      required: true,\n      default: 'text'\n    },\n    // 輸入框文字最短設定\n    minlength: {\n      type: Number,\n      required: false,\n      default: -1\n    },\n    // 輸入框文字最長設定\n    maxlength: {\n      type: Number,\n      required: false,\n      default: -1\n    },\n    // 輸入框name屬性\n    name: {\n      type: String,\n      required: true,\n      default: ''\n    },\n    // 輸入框required屬性\n    required: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    // 輸入框起始值\n    initialValue: {\n      type: [String, Number],\n      required: false,\n      default: ''\n    },\n    // 輸入框錯誤提示訊息\n    errorMessage: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    // 輸入框輸入內容上限顯示\n    showLimit: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    // 輸入框文字內容是否去除頭尾空白\n    doTrim: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  data () {\n    return {\n      value: '',\n      isValid: true\n    }\n  },\n  computed: {\n    limitText () {\n      const validType = ['text', 'password']\n\n      if (validType.includes(this.inputType) && this.maxlength > 0) {\n        return `${this.value.length}/${this.maxlength}`\n      }\n\n      return ''\n    }\n  },\n  watch: {\n    initialValue (newValue) {\n      this.value = newValue\n    },\n    errorMessage (newValue) {\n      this.isValid = newValue === ''\n    }\n  },\n  created () {\n    this.value = this.initialValue\n  },\n  methods: {\n    inputChange (value) {\n      if (typeof value === 'string' && this.doTrim === true) {\n        this.value = value.trim()\n      }\n\n      // 通知上層輸入框的數值改變\n      this.$emit('input-change', this.value)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nsection.input-group {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  height: 84px; // input + input-status-bar + input間的距離\n\n  .input-label {\n    color: #657786;\n    font-size: 15px;\n    left: 10px;\n    line-height: 15px;\n    position: absolute;\n    top: 5px;\n  }\n  .input-container {\n    background-color: #f5f8fa;\n    border-radius: 4px 4px 0px 0px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    font-size: 19px;\n    font-weight: 500;\n    line-height: 29px;\n    padding-left: 10px;\n    position: relative;\n    word-spacing: -0.25rem;\n\n    .prefix {\n      flex-grow: 0;\n      flex-shrink: 0;\n      padding-bottom: 4px;\n      padding-top: 20px;\n    }\n\n    .input-status-bar {\n      bottom: 0;\n      background-color: #657786;\n      border-radius: 0px 0px 4px 4px;\n      height: 2px;\n      left: 0;\n      position: absolute;\n      right: 0;\n    }\n  }\n  .input-status-info {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    font-size: 15px;\n    font-weight: 500;\n    justify-content: space-between;\n    line-height: 15px;\n    margin-top: 5px;\n    white-space: nowrap;\n\n    .text {\n      color: #fc5a5a;\n      flex-shrink: 1;\n      min-width: 0;\n      overflow-x: clip;\n      overflow-y: visible;\n      text-overflow: ellipsis;\n    }\n    .limit {\n      color: #657786;\n    }\n  }\n\n  input {\n    background-color: inherit;\n    border: none;\n    flex-grow: 1;\n    padding-bottom: 4px;\n    padding-left: 0px;\n    padding-top: 20px;\n  }\n  input:focus {\n    border: none;\n    outline: none;\n  }\n  input:focus ~ .input-status-bar,\n  input:hover ~ .input-status-bar {\n    background-color: #50b5ff;\n  }\n  input.invalid ~ .input-status-bar {\n    background-color: #fc5a5a;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GeneralInput.vue?vue&type=template&id=675fcf95&scoped=true&\"\nimport script from \"./GeneralInput.vue?vue&type=script&lang=js&\"\nexport * from \"./GeneralInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GeneralInput.vue?vue&type=style&index=0&id=675fcf95&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"675fcf95\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARlSURBVHgB7VlbUhQxFD0ZeVTJzyyhXYG6AmEFwgqAUtA/YAXAChj+KNECVgCuAFyB4w7aHYyfKBDvvQkwj9w8eoYv5lRR03TSSU7uMzfAFFNM8SxgMEHYj1iknzdo4Z38WrRphrZrRI+ea3qqcYcf9Ns1X3GFCWFsInaNFjqHLVro9sOi81HTN1e4xr45FZKN0ZiIJ7BLj9uYBAxOxyHUiIjdIAkAew0kkEJNkt03x0SqEMVE7CYOEJMC2wLpP9nJL7KFLv2xbfTEXl6Q3QDvAfmNoWO+YAcFyCYiqjSLc/piMdxBDPcMC7gwHSGjj/UZFRE8R4zQLVbMN1wgE/lENnCpkOBd32nigUi6e/SzG2iqSSKvUICZnE5enRZHG3BI+hxUM9n1GyyTirWJ6FWIKC12j8ZmDJJpYQmFSEqEJLFGvU4GX4rOr4QWRypYkTdj4stDM7FX2iGvNKJ29hNJ2/qNimxODK1YoyzKjIi+JqN9q5B4QyQuMUzCLXBNbCwEg/WHsRdE3YoRJYJ5IVH1valZ7OZo1NcLiVkhUanjkY2JhIdfu/HOxPUqjkKcTQQqEZGG7ZuU1Uknwep0nhVXTNC4gZfYjsaPOZzEyOgSmR+a0NBuHSlRdy4hiUFUPicbHD7isr0Ul2ke1XZ0IrZvMjJU8jCdYLfNEfVL4wVWc7sO2emW1i9IxO9Y5f/lxG5fnQQNjNMGnIGGQTtth6TJCEuk1dfZRlRqXtH3NNqkLqk0ZdRO3dqC34WJGLz2T7VmgMFJypAk4m1vaOISiVgvShtWKUFzadwjSsRn2NVIw+MmDyBGpPeE0ogiYXtBF6ypFh9R9cxzVsmA88HZQUdtZWnrMamACOMG39W2Vr77DCLmQBh3+INCaKrVo13vBps4utoxJOKSwtNEn9g5JBg4NdWq1R2byfA2OrKSQklIrRLpbXhdGpEr6GhKxCWcidNjH86U979DL8NEbqTuFEarYcGBzy9HBRUSTb1MWOW1yF5Dn6CciMU62UW35BNVve7C2hIkwpOqKbMtrDs5EqdqM8UM+0HNvYbVq9ZqA6r7DR1JPfJ21h2HkyQkDWmplZlB9YrYbvyEGIDfkTrRjduXskhA0vRVdS5y148v9JSpmIj/agkhMk6n9+m09zZmE3SGWaY49RMZ6bkUIpgMn4kiziJdRSFb0dRMTm73aTVXFRPFuUS9uMZf2gBtrm1aR2TsNBE2xFu6AhizWu7LSvHTpKVdP36oqBQhq9JIYucrg15pcVkkMCNSYxvIC6Rcev1HTqJw4/JLpq6IxjVbNr6uUtfi+nAluZjxxeqmFXtX0DskQlleMqtkKrjGineVB7JoV+qsh3pVfhHj447GaudLpfxaYYPOEUavZkwEDcqm5XHEuUM2yBqThnPfOxOv/WoQo3ex5AyTAseKBbzS6mfJNWFM+EubPXrkm9wKJXA3vYcUQDsF6X0QkzDLB0h0dnkTVzoq8XKD19PuWu4JrqenmGKKZ4L/1ayJWixLovMAAAAASUVORK5CYII=\"","import { apiHelper } from './../utils/helpers'\n\nexport default {\n  userSignUp (data) {\n    return apiHelper.post('/users', {\n      ...data\n    })\n  },\n  userSignIn ({ account, password }) {\n    return apiHelper.post('/users/login', {\n      account,\n      password\n    })\n  },\n  adminSignIn ({ account, password }) {\n    return apiHelper.post('/admin/users/login', {\n      account,\n      password\n    })\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"main\",on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"sign-in-heading\"},[_c('img',{staticClass:\"logo-img\",attrs:{\"src\":_vm.LogoImg}}),_c('h1',{staticClass:\"sign-in-title\"},[_vm._v(\" 登入 Alphitter \")])]),_c('div',{staticClass:\"sign-in-content\"},_vm._l((_vm.inputKeys),function(key){return _c('GeneralInput',_vm._b({key:key,attrs:{\"name\":key,\"initial-value\":_vm.data[key],\"error-message\":_vm.error[key]},on:{\"input-change\":function($event){_vm.data[key] = $event}}},'GeneralInput',_vm.inputConfig[key],false))}),1),_vm._m(0),_c('div',{staticClass:\"other-option\"},[_c('router-link',{staticClass:\"route-control\",attrs:{\"to\":\"/signup\"}},[_vm._v(\" 註冊 Alphitter \")]),_c('span',[_vm._v(\"·\")]),_c('router-link',{staticClass:\"route-control\",attrs:{\"to\":\"/admin\"}},[_vm._v(\" 後台登入 \")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-in-button\"},[_c('button',{staticClass:\"sign-up\"},[_vm._v(\" 登入 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <form\n    class=\"main\"\n    @submit.prevent.stop=\"handleSubmit\"\n  >\n    <div class=\"sign-in-heading\">\n      <img\n        :src=\"LogoImg\"\n        class=\"logo-img\"\n      >\n      <h1 class=\"sign-in-title\">\n        登入 Alphitter\n      </h1>\n    </div>\n    <div class=\"sign-in-content\">\n      <GeneralInput\n        v-for=\"key in inputKeys\"\n        :key=\"key\"\n        v-bind=\"inputConfig[key]\"\n        :name=\"key\"\n        :initial-value=\"data[key]\"\n        :error-message=\"error[key]\"\n        @input-change=\"data[key] = $event\"\n      />\n    </div>\n    <div class=\"sign-in-button\">\n      <button class=\"sign-up\">\n        登入\n      </button>\n    </div>\n    <div class=\"other-option\">\n      <router-link\n        to=\"/signup\"\n        class=\"route-control\"\n      >\n        註冊 Alphitter\n      </router-link>\n      <span>·</span>\n      <router-link\n        to=\"/admin\"\n        class=\"route-control\"\n      >\n        後台登入\n      </router-link>\n    </div>\n  </form>\n</template>\n\n<script>\nimport GeneralInput from '@/components/GeneralInput.vue'\nimport LogoImg from '@/assets/images/Logo.png'\nimport authorizationAPI from '@/apis/authorization'\nimport { Toast } from '@/utils/helpers'\nimport { inputValidationMethod } from '@/utils/mixins'\nconst inputKeys = ['account', 'password']\nconst inputConfig = {\n  account: {\n    label: '帳號',\n    inputType: 'text',\n    minlength: 1,\n    maxlength: 20,\n    required: true\n  },\n  password: {\n    label: '密碼',\n    inputType: 'password',\n    minlength: 5,\n    maxlength: 20,\n    required: true\n  }\n}\n\nexport default {\n  name: 'UserSignIn',\n  components: {\n    GeneralInput\n  },\n  mixins: [inputValidationMethod],\n\n  data () {\n    return {\n      LogoImg,\n      data: {\n        account: '',\n        password: ''\n      },\n      error: {\n        account: '',\n        password: ''\n      },\n      inputKeys,\n      inputConfig\n    }\n  },\n  methods: {\n    async handleSubmit () {\n      try {\n        let status\n        let message\n        let pass = true\n        // 清空錯誤訊息\n        this.error.account = ''\n        this.error.password = '';\n\n        ({ status, message } = this.checkAccount(this.data.account))\n        if (status === false) {\n          this.error.account = message\n          pass = false\n        }\n\n        ({ status, message } = this.checkPassword(this.data.password))\n        if (status === false) {\n          this.error.password = message\n          pass = false\n        }\n\n        if (pass === false) {\n          return\n        }\n\n        const { data } = await authorizationAPI.userSignIn({\n          account: this.data.account,\n          password: this.data.password\n        })\n\n        // 針對 http code 200 的處理流程\n        if (data.status === 'error') {\n          if (/帳號/.test(data.message)) {\n            this.error.account = data.message\n            return\n          }\n\n          if (/密碼/.test(data.message)) {\n            this.error.password = data.message\n            return\n          }\n\n          this.error.account = data.message\n          return\n        }\n\n        localStorage.setItem('token', data.token)\n        this.$store.commit('setCurrentUser', data.userData)\n        this.$router.push('/home')\n      } catch (error) {\n        console.error(error)\n\n        Toast.fire({\n          icon: 'error',\n          title: '目前無法登入，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.main {\n  width: 540px;\n  height: 100%;\n  margin: 60px auto;\n\n  .sign-in-heading {\n    display: flex;\n    flex-direction: column;\n    .logo-img {\n      width: 50px;\n      height: 50px;\n      margin: 0 auto;\n    }\n\n    .sign-in-title {\n      font-family: 'Noto Sans TC';\n      font-style: normal;\n      font-weight: bold;\n      font-size: 23px;\n      line-height: 33px;\n      display: inline-block;\n      margin: 0 auto;\n      margin-top: 20px;\n    }\n  }\n\n  .sign-in-content {\n    margin-top: 40px;\n    display: flex;\n    flex-direction: column;\n    label {\n      position: relative;\n      margin-bottom: 30px;\n\n      input {\n        width: 100%;\n        height: 52px;\n        background-color: #f5f8fa;\n        border: none;\n        border-bottom: 2px solid #657786;\n        border-radius: 0px 0px 4px 4px;\n        padding-top: 25px;\n        padding-left: 10px;\n      }\n      .input-title {\n        position: absolute;\n        top: 5px;\n        left: 10px;\n        font-family: 'Noto Sans TC';\n        font-style: normal;\n        font-weight: 500;\n        font-size: 15px;\n        line-height: 15px;\n        color: #657786;\n      }\n    }\n  }\n\n  .sign-up {\n    margin: 10px auto 20px;\n    width: 100%;\n    height: 46px;\n    background-color: #ff6600;\n    border-radius: 50px;\n    border: none;\n    color: #ffffff;\n    font-family: 'Noto Sans TC';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 18px;\n    line-height: 26px;\n    text-align: center;\n  }\n\n  .other-option {\n    display: flex;\n    justify-content: flex-end;\n    font-family: 'Noto Sans TC';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 18px;\n    line-height: 26px;\n    color: #0099ff;\n\n    .route-control {\n      text-decoration: underline;\n      color: #0099ff;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSignIn.vue?vue&type=template&id=1467ed11&scoped=true&\"\nimport script from \"./UserSignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSignIn.vue?vue&type=style&index=0&id=1467ed11&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1467ed11\",\n  null\n  \n)\n\nexport default component.exports","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralInput.vue?vue&type=style&index=0&id=675fcf95&lang=scss&scoped=true&\""],"sourceRoot":""}