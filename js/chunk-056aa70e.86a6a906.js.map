{"version":3,"sources":["webpack:///./src/components/HomeTweetArea.vue?4031","webpack:///./src/components/PageHeader.vue?0966","webpack:///./src/views/HomePage.vue?035a","webpack:///./src/components/HomeTweetArea.vue?1454","webpack:///./src/components/PageHeader.vue?c96f","webpack:///./src/components/PageHeader.vue","webpack:///src/components/HomeTweetArea.vue","webpack:///./src/components/HomeTweetArea.vue?1e64","webpack:///./src/components/HomeTweetArea.vue","webpack:///src/views/HomePage.vue","webpack:///./src/views/HomePage.vue?8edf","webpack:///./src/views/HomePage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_v","on","$event","addTweetToList","attrs","sortedTweets","isLoading","afterReplyHandler","_t","script","component","components","PageHeader","TweetBox","TweetList","data","tweets","computed","watch","handler","newValue","undefined","id","$store","commit","created","fetchTweets","methods","tweetsAPI","response","Toast","icon","title","tweet","tweetId","map","SiteNav","HomeTweetArea","RecommendedList","mapState"],"mappings":"kHAAA,W,oFCAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,WAAWA,EAAG,UAAU,CAACE,YAAY,QAAQ,CAACF,EAAG,kBAAkB,GAAGA,EAAG,oBAAoB,IACrOG,EAAkB,G,wBCDlB,EAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,aAAa,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,WAAW,CAACK,GAAG,CAAC,cAAc,SAASC,GAAQ,OAAOV,EAAIW,eAAeD,OAAYN,EAAG,UAAU,CAACE,YAAY,wBAAwB,CAACF,EAAG,YAAY,CAACQ,MAAM,CAAC,OAASZ,EAAIa,aAAa,aAAab,EAAIc,WAAWL,GAAG,CAAC,cAAc,SAASC,GAAQ,OAAOV,EAAIe,kBAAkBL,QAAa,IAAI,IACjd,EAAkB,G,wBCDlB,G,wCAAS,WAAa,IAAIV,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIgB,GAAG,YAAY,KACrJ,EAAkB,G,wBCAlBC,EAAS,GAMTC,EAAY,eACdD,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAC,E,wDCoIA,GACbC,WAAYA,CACVC,WAAJA,EACIC,SAAJA,OACIC,UAAJA,QAEEC,KANF,WAOI,MAAO,CACLC,OAAQA,GACRV,WAAWA,IAGfW,SAAUA,CACRZ,aADJ,WAEM,OAAO,eAAWZ,KAAKuB,OAAQ,eAGnCE,MAAOA,CAEL,kCAAmC,CACjCC,QAASA,SAAfA,KACYC,QAA4BC,IAAhBD,EAASE,KACvB7B,KAAKU,eAAeiB,GACpB3B,KAAK8B,OAAOC,OAAO,oBAK3BC,QA5BF,WA6BIhC,KAAKiC,eAEPC,QAASA,CAMPD,YANJ,WAMA,8KAEA,eAFA,SAGAE,gBAHA,UAGAC,EAHA,OAKAA,oBALA,sBAMA,wBANA,OASA,gBACA,eAVA,qDAYAC,aACAC,aACAC,uBAdA,6DAkBI7B,eAxBJ,SAwBA8B,GACMxC,KAAKuB,OAAS,CAACiB,GAArB,qCAEI1B,kBA3BJ,SA2BA2B,GACMzC,KAAKuB,OAASvB,KAAKuB,OAAOmB,KAAI,SAApC,GAIQ,OAHIF,EAAMX,KAAOY,IACfD,EAAMA,YAAcA,EAAMA,YAAcA,GAEnCA,QCrNwU,ICQnV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,gCCHA,GACbtB,WAAYA,CACVyB,QAAJA,OACIC,cAAJA,EACIC,gBAAJA,QAEErB,SAAUA,kBACZsB,kCCvBkV,ICO9U,EAAY,eACd,EACAhD,EACAQ,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-056aa70e.86a6a906.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeTweetArea.vue?vue&type=style&index=0&id=3e434228&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=style&index=0&id=92a54f06&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-container\"},[_c('SiteNav'),_c('section',{staticClass:\"main\"},[_c('HomeTweetArea')],1),_c('RecommendedList')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-tweet-area\"},[_c('PageHeader',[_vm._v(\" 首頁 \")]),_c('TweetBox',{on:{\"after-tweet\":function($event){return _vm.addTweetToList($event)}}}),_c('section',{staticClass:\"tweet-list-container\"},[_c('TweetList',{attrs:{\"tweets\":_vm.sortedTweets,\"is-loading\":_vm.isLoading},on:{\"after-reply\":function($event){return _vm.afterReplyHandler($event)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-header\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./PageHeader.vue?vue&type=template&id=92a54f06&scoped=true&\"\nvar script = {}\nimport style0 from \"./PageHeader.vue?vue&type=style&index=0&id=92a54f06&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92a54f06\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home-tweet-area\">\r\n    <PageHeader>\r\n      首頁\r\n    </PageHeader>\r\n    <TweetBox @after-tweet=\"addTweetToList($event)\" />\r\n    <section class=\"tweet-list-container\">\r\n      <TweetList\r\n        :tweets=\"sortedTweets\"\r\n        :is-loading=\"isLoading\"\r\n        @after-reply=\"afterReplyHandler($event)\"\r\n      />\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PageHeader from '@/components/PageHeader.vue'\r\nimport TweetBox from '@/components/TweetBox.vue'\r\nimport TweetList from '@/components/TweetList.vue'\r\nimport tweetsAPI from '@/apis/tweets'\r\nimport { sortByTime, Toast } from '@/utils/helpers'\r\n// import moment from 'moment' // 測試用\r\n\r\n// 測試資料\r\n/*\r\nconst dummyTweets = [\r\n  // 一般資料\r\n  {\r\n    id: 26,\r\n    userData: {\r\n      id: 21,\r\n      account: 'cindy266',\r\n      name: '鰻魚燒',\r\n      avatar: 'https://i.epochtimes.com/assets/uploads/2021/08/id13156667-shutterstock_376153318-450x322.jpg'\r\n    },\r\n    description: '今天天氣好好喔!!',\r\n    replyAmount: 12,\r\n    likeAmount: 263,\r\n    userLiked: true,\r\n    createdAt: '2016-08-29T09:12:33.001+0000'\r\n  },\r\n  // name很長\r\n  {\r\n    id: 27,\r\n    userData: {\r\n      id: 21,\r\n      account: 'cindy266',\r\n      name: '鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒',\r\n      avatar: 'https://i.epochtimes.com/assets/uploads/2021/08/id13156667-shutterstock_376153318-450x322.jpg'\r\n    },\r\n    description: '今天天氣好好喔!!',\r\n    replyAmount: 12,\r\n    likeAmount: 263,\r\n    userLiked: true,\r\n    createdAt: '2016-08-29T09:12:33.001+0000'\r\n  },\r\n  // name很長且account也很長\r\n  {\r\n    id: 28,\r\n    userData: {\r\n      id: 21,\r\n      account: 'cindy266cindy266cindy266',\r\n      name: '鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒',\r\n      avatar: 'https://i.epochtimes.com/assets/uploads/2021/08/id13156667-shutterstock_376153318-450x322.jpg'\r\n    },\r\n    description: '今天天氣好好喔!!',\r\n    replyAmount: 12,\r\n    likeAmount: 263,\r\n    userLiked: true,\r\n    createdAt: '2016-08-29T09:12:33.001+0000'\r\n  },\r\n  // 今年內\r\n  {\r\n    id: 29,\r\n    userData: {\r\n      id: 21,\r\n      account: 'cindy266cindy266cindy266',\r\n      name: '鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒',\r\n      avatar: 'https://i.epochtimes.com/assets/uploads/2021/08/id13156667-shutterstock_376153318-450x322.jpg'\r\n    },\r\n    description: '今天天氣好好喔!!',\r\n    replyAmount: 12,\r\n    likeAmount: 263,\r\n    userLiked: true,\r\n    createdAt: '2022-02-01T11:00:00.001+0800'\r\n  },\r\n  // 24小時內\r\n  {\r\n    id: 30,\r\n    userData: {\r\n      id: 21,\r\n      account: 'cindy266cindy266cindy266',\r\n      name: '鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒',\r\n      avatar: 'https://i.epochtimes.com/assets/uploads/2021/08/id13156667-shutterstock_376153318-450x322.jpg'\r\n    },\r\n    description: '今天天氣好好喔!!',\r\n    replyAmount: 12,\r\n    likeAmount: 263,\r\n    userLiked: true,\r\n    createdAt: moment().startOf('day').toISOString()\r\n  },\r\n  // 長內文\r\n  {\r\n    id: 31,\r\n    userData: {\r\n      id: 21,\r\n      account: 'cindy266cindy266cindy266',\r\n      name: '鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒',\r\n      avatar: 'https://i.epochtimes.com/assets/uploads/2021/08/id13156667-shutterstock_376153318-450x322.jpg'\r\n    },\r\n    description: '今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!',\r\n    replyAmount: 12,\r\n    likeAmount: 263,\r\n    userLiked: true,\r\n    createdAt: moment().startOf('day').toISOString()\r\n  },\r\n  // 回覆數量1,000以上，10,000以下\r\n  {\r\n    id: 32,\r\n    userData: {\r\n      id: 21,\r\n      account: 'cindy266cindy266cindy266',\r\n      name: '鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒',\r\n      avatar: 'https://i.epochtimes.com/assets/uploads/2021/08/id13156667-shutterstock_376153318-450x322.jpg'\r\n    },\r\n    description: '今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!',\r\n    replyAmount: 5566,\r\n    likeAmount: 263,\r\n    userLiked: true,\r\n    createdAt: moment().startOf('day').toISOString()\r\n  },\r\n  // 回覆數量10,000以上\r\n  {\r\n    id: 33,\r\n    userData: {\r\n      id: 21,\r\n      account: 'cindy266cindy266cindy266',\r\n      name: '鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒鰻魚燒',\r\n      avatar: 'https://i.epochtimes.com/assets/uploads/2021/08/id13156667-shutterstock_376153318-450x322.jpg'\r\n    },\r\n    description: '今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!今天天氣好好喔!!',\r\n    replyAmount: 114514,\r\n    likeAmount: 263,\r\n    userLiked: true,\r\n    createdAt: moment().startOf('day').toISOString()\r\n  }\r\n]\r\n*/\r\n\r\nexport default {\r\n  components: {\r\n    PageHeader,\r\n    TweetBox,\r\n    TweetList\r\n  },\r\n  data () {\r\n    return {\r\n      tweets: [],\r\n      isLoading: true\r\n    }\r\n  },\r\n  computed: {\r\n    sortedTweets () {\r\n      return sortByTime(this.tweets, 'createdAt')\r\n    }\r\n  },\r\n  watch: {\r\n    // 把Vuex當作messageQueue，藉由監聽數值的改變，來將使用者從Modal輸入的推文加到顯示清單\r\n    '$store.state.messageQueue.tweet': {\r\n      handler: function (newValue, oldValue) {\r\n        if (newValue && newValue.id !== undefined) {\r\n          this.addTweetToList(newValue)\r\n          this.$store.commit('consumeTweet')\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.fetchTweets()\r\n  },\r\n  methods: {\r\n    // 測試用\r\n    // fetchTweets () {\r\n    //   this.tweets = dummyTweets\r\n    //   this.isLoading = false\r\n    // }\r\n    async fetchTweets () {\r\n      try {\r\n        this.isLoading = true\r\n        const response = await tweetsAPI.getAll()\r\n\r\n        if (response.statusText !== 'OK') {\r\n          throw new Error(response.statusText)\r\n        }\r\n\r\n        this.tweets = response.data\r\n        this.isLoading = false\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得推文，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    addTweetToList (tweet) {\r\n      this.tweets = [tweet, ...this.tweets]\r\n    },\r\n    afterReplyHandler (tweetId) {\r\n      this.tweets = this.tweets.map(tweet => {\r\n        if (tweet.id === tweetId) {\r\n          tweet.replyAmount = tweet.replyAmount + 1\r\n        }\r\n        return tweet\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.home-tweet-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n  overflow: hidden;\r\n}\r\n.tweet-list-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n  overflow-x: clip;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeTweetArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeTweetArea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeTweetArea.vue?vue&type=template&id=3e434228&scoped=true&\"\nimport script from \"./HomeTweetArea.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeTweetArea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeTweetArea.vue?vue&type=style&index=0&id=3e434228&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e434228\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"page-container\">\r\n    <SiteNav />\r\n    <section class=\"main\">\r\n      <HomeTweetArea />\r\n    </section>\r\n    <RecommendedList />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SiteNav from '@/components/SiteNav.vue'\r\nimport HomeTweetArea from '@/components/HomeTweetArea.vue'\r\nimport RecommendedList from '@/components/RecommendedList.vue'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    SiteNav,\r\n    HomeTweetArea,\r\n    RecommendedList\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomePage.vue?vue&type=template&id=0f46e442&\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js&\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}