(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-056aa70e"],{"0f95":function(e,t,n){"use strict";n("73da")},"15df":function(e,t,n){},"73da":function(e,t,n){},aba7:function(e,t,n){"use strict";n("15df")},f4a9:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("SiteNav"),n("section",{staticClass:"main"},[n("HomeTweetArea")],1),n("RecommendedList")],1)},s=[],r=n("5530"),i=n("2441"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-tweet-area"},[n("PageHeader",[e._v(" 首頁 ")]),n("TweetBox",{on:{"after-tweet":function(t){return e.addTweetToList(t)}}}),n("section",{staticClass:"tweet-list-container"},[n("TweetList",{attrs:{tweets:e.sortedTweets,"is-loading":e.isLoading},on:{"after-reply":function(t){return e.afterReplyHandler(t)}}})],1)],1)},o=[],u=n("2909"),d=n("1da1"),f=(n("96cf"),n("d9e2"),n("99af"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header"},[e._t("default")],2)}),l=[],w=(n("aba7"),n("2877")),m={},h=Object(w["a"])(m,f,l,!1,null,"92a54f06",null),p=h.exports,T=n("769e"),v=n("4c78"),b=n("6783"),g=n("2fa3"),x={components:{PageHeader:p,TweetBox:T["a"],TweetList:v["a"]},data:function(){return{tweets:[],isLoading:!0}},computed:{sortedTweets:function(){return Object(g["c"])(this.tweets,"createdAt")}},watch:{"$store.state.messageQueue.tweet":{handler:function(e,t){e&&void 0!==e.id&&(this.addTweetToList(e),this.$store.commit("consumeTweet"))}}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,b["a"].getAll();case 4:if(n=t.sent,"OK"===n.statusText){t.next=7;break}throw new Error(n.statusText);case 7:e.tweets=n.data,e.isLoading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),g["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},addTweetToList:function(e){this.tweets=[e].concat(Object(u["a"])(this.tweets))},afterReplyHandler:function(e){this.tweets=this.tweets.map((function(t){return t.id===e&&(t.replyAmount=t.replyAmount+1),t}))}}},L=x,O=(n("0f95"),Object(w["a"])(L,c,o,!1,null,"3e434228",null)),j=O.exports,_=n("44f5"),k=n("2f62"),A={components:{SiteNav:i["a"],HomeTweetArea:j,RecommendedList:_["a"]},computed:Object(r["a"])({},Object(k["b"])(["currentUser"]))},H=A,R=Object(w["a"])(H,a,s,!1,null,null,null);t["default"]=R.exports}}]);
//# sourceMappingURL=chunk-056aa70e.32c7bc53.js.map