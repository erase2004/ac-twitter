(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a8e040a"],{"0f95":function(e,t,a){"use strict";a("73da")},"15df":function(e,t,a){},"36ad":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header"},[e._t("default")],2)},s=[],r=(a("aba7"),a("2877")),i={},c=Object(r["a"])(i,n,s,!1,null,"92a54f06",null);t["a"]=c.exports},"73da":function(e,t,a){},aba7:function(e,t,a){"use strict";a("15df")},f4a9:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("SiteNav"),a("section",{staticClass:"main"},[a("HomeTweetArea")],1),a("RecommendedList")],1)},s=[],r=a("5530"),i=a("2441"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-tweet-area"},[a("PageHeader",[e._v(" 首頁 ")]),a("TweetBox",{on:{"after-tweet":function(t){return e.addTweetToList(t)}}}),a("section",{staticClass:"tweet-list-container"},[a("TweetList",{attrs:{tweets:e.sortedTweets,"is-loading":e.isLoading},on:{"after-reply":function(t){return e.afterReplyHandler(t)}}})],1)],1)},o=[],u=a("2909"),d=a("1da1"),f=(a("96cf"),a("d9e2"),a("99af"),a("d81d"),a("36ad")),l=a("769e"),w=a("4c78"),m=a("6783"),h=a("2fa3"),p={components:{PageHeader:f["a"],TweetBox:l["a"],TweetList:w["a"]},data:function(){return{tweets:[],isLoading:!0}},computed:{sortedTweets:function(){return Object(h["c"])(this.tweets,"createdAt")}},watch:{"$store.state.messageQueue.tweet":{handler:function(e,t){e&&void 0!==e.id&&(this.addTweetToList(e),this.$store.commit("consumeTweet"))}}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,m["a"].getAll();case 4:if(a=t.sent,"OK"===a.statusText){t.next=7;break}throw new Error(a.statusText);case 7:e.tweets=a.data,e.isLoading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),h["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},addTweetToList:function(e){this.tweets=[e].concat(Object(u["a"])(this.tweets))},afterReplyHandler:function(e){this.tweets=this.tweets.map((function(t){return t.id===e&&(t.replyAmount=t.replyAmount+1),t}))}}},T=p,v=(a("0f95"),a("2877")),b=Object(v["a"])(T,c,o,!1,null,"3e434228",null),g=b.exports,x=a("44f5"),L=a("2f62"),O={components:{SiteNav:i["a"],HomeTweetArea:g,RecommendedList:x["a"]},computed:Object(r["a"])({},Object(L["b"])(["currentUser"]))},j=O,_=Object(v["a"])(j,n,s,!1,null,null,null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-7a8e040a.633c9327.js.map