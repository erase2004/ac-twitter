(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18687001"],{"01c8":function(e,s,t){"use strict";t("868e")},"1b2d":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"message-room"},[t("section",{staticClass:"room-header"},[e._t("default")],2),t("section",{staticClass:"message-container"},[t("div",{staticClass:"mt-auto"},e._l(e.proccessedMessage,(function(s){return t("div",{key:s.id,staticClass:"message-block",class:{"server-message":0===s.type,"self-message":1===s.type}},[0===s.type?t("div",{staticClass:"message"},[e._v(" "+e._s(e.serverMessage(s))+" ")]):1===s.type?t("div",{staticClass:"self"},[t("div",{staticClass:"message"},[e._v(" "+e._s(s.message)+" ")]),t("div",{staticClass:"time"},[e._v(" "+e._s(e._f("timeFormat")(s.createdAt))+" ")])]):2===s.type?t("div",{staticClass:"user"},[t("div",{staticClass:"message-area"},[t("UserThumbnail",{staticClass:"avatar",attrs:{"initial-user":s.userData}}),t("div",{staticClass:"message"},[e._v(" "+e._s(s.message)+" ")])],1),t("div",{staticClass:"time"},[e._v(" "+e._s(e._f("timeFormat")(s.createdAt))+" ")])]):t("div",{staticClass:"d-none"})])})),0)]),t("section",{staticClass:"control-group"},[t("input",{attrs:{type:"text",name:"message",placeholder:"輸入訊息..."}}),t("icon",{staticClass:"btn-send cursor-pointer",attrs:{"icon-name":"message-send"}})],1)])},i=[],r=t("5530"),c=(t("d81d"),t("b0c0"),t("d092")),n=t("2708"),o=t("2f62"),u={components:{UserThumbnail:c["a"]},mixins:[n["e"],n["b"]],data:function(){return{messages:[]}},sockets:{loginSuccess:function(e){console.log("login success"),console.log(e)}},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["currentUser"])),{},{proccessedMessage:function(){var e=this;return this.messages.map((function(s){return"server"===s.source?Object(r["a"])(Object(r["a"])({},s),{},{type:0}):s.userData.id===e.currentUser.id?Object(r["a"])(Object(r["a"])({},s),{},{type:1}):Object(r["a"])(Object(r["a"])({},s),{},{type:2})}))}}),mounted:function(){this.$socket.client.emit("login",{userId:this.currentUser.id})},methods:{serverMessage:function(e){var s=this.emptyName(e.userData.name,e.userData.account);return"join"===e.action?"".concat(s," 上線"):"leave"===e.action?"".concat(s," 離線"):""}}},l=u,d=(t("8874"),t("2877")),m=Object(d["a"])(l,a,i,!1,null,"551a4ab0",null);s["default"]=m.exports},"41e6":function(e,s,t){},"868e":function(e,s,t){},8874:function(e,s,t){"use strict";t("41e6")},d092:function(e,s,t){"use strict";var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("router-link",{staticClass:"photo-container",attrs:{to:{name:"user-main",params:{id:e.user.id}}}},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.user.avatar,expression:"user.avatar"}],attrs:{src:e.user.avatar},on:{error:function(s){e.user.avatar=""}}})])},i=[],r=t("5530"),c={props:{initialUser:{type:Object,required:!0}},data:function(){return{user:{id:-1,avatar:""}}},watch:{initialUser:function(e){this.user=Object(r["a"])(Object(r["a"])({},this.user),e)}},created:function(){this.user=Object(r["a"])(Object(r["a"])({},this.user),this.initialUser)}},n=c,o=(t("01c8"),t("2877")),u=Object(o["a"])(n,a,i,!1,null,"34e062da",null);s["a"]=u.exports}}]);
//# sourceMappingURL=chunk-18687001.0bbeab2e.js.map