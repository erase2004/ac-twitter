{"version":3,"sources":["webpack:///./src/components/GeneralInput.vue?8d13","webpack:///src/components/GeneralInput.vue","webpack:///./src/components/GeneralInput.vue?ff9e","webpack:///./src/components/GeneralInput.vue","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/assets/images/Logo.png","webpack:///./src/apis/authorization.js","webpack:///./src/views/UserSignIn.vue?fc27","webpack:///src/views/UserSignIn.vue","webpack:///./src/views/UserSignIn.vue?ae20","webpack:///./src/views/UserSignIn.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/views/UserSignIn.vue?6fd4","webpack:///./src/components/GeneralInput.vue?f70b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","prefix","class","isValid","attrs","inputType","minlength","maxlength","name","required","domProps","value","on","$event","stopPropagation","preventDefault","target","inputChange","label","errorMessage","directives","rawName","showLimit","expression","limitText","staticRenderFns","props","type","default","initialValue","doTrim","data","computed","validType","includes","watch","newValue","created","methods","trim","$emit","component","$","$trim","forcedStringTrimMethod","proto","forced","module","exports","userSignUp","apiHelper","post","userSignIn","account","password","adminSignIn","handleSubmit","apply","arguments","LogoImg","_l","key","_b","error","inputConfig","_m","components","GeneralInput","mixins","inputKeys","pass","status","message","authorizationAPI","localStorage","response","Toast","icon","title","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","METHOD_NAME"],"mappings":"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","file":"js/chunk-5daf39bf.6deef48a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"input-group\"},[_c('span',{staticClass:\"input-container\"},[_c('span',{staticClass:\"prefix\"},[_vm._v(_vm._s(_vm.prefix))]),_c('input',{class:{'invalid': !_vm.isValid},attrs:{\"type\":_vm.inputType,\"minlength\":_vm.minlength,\"maxlength\":_vm.maxlength,\"name\":_vm.name,\"required\":_vm.required},domProps:{\"value\":_vm.value},on:{\"input\":function($event){$event.stopPropagation();$event.preventDefault();_vm.value = $event.target.value},\"change\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.inputChange($event.target.value)}}}),_c('div',{staticClass:\"input-status-bar\"})]),_c('label',{staticClass:\"input-label\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"input-status-info\"},[_c('div',{staticClass:\"text\",attrs:{\"title\":_vm.errorMessage}},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLimit && (_vm.maxlength > 0)),expression:\"showLimit && (maxlength > 0)\"}],staticClass:\"limit\"},[_vm._v(\" \"+_vm._s(_vm.limitText)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n名稱：泛用型文字輸入框\r\n用法：請參照Props區域，在使用時，傳入必要的設定\r\n功能：\r\n  1. 顯示初始文字\r\n  2. 輸入內容長度限制\r\n  3. 即時顯示輸入內容上限顯示\r\n  4. 顯示錯誤提示訊息\r\n  5. 有預設顯示、focus/active狀態顯示和錯誤狀態顯示\r\n  6. 可設定輸入內容是否對頭尾空白進行去除\r\n-->\r\n\r\n<template>\r\n  <section class=\"input-group\">\r\n    <span class=\"input-container\">\r\n      <span class=\"prefix\">{{ prefix }}</span>\r\n      <input\r\n        :value=\"value\"\r\n        :class=\"{'invalid': !isValid}\"\r\n        :type=\"inputType\"\r\n        :minlength=\"minlength\"\r\n        :maxlength=\"maxlength\"\r\n        :name=\"name\"\r\n        :required=\"required\"\r\n        @input.stop.prevent=\"value = $event.target.value\"\r\n        @change.stop.prevent=\"inputChange($event.target.value)\"\r\n      >\r\n      <div class=\"input-status-bar\" />\r\n    </span>\r\n    <label class=\"input-label\">{{ label }}</label>\r\n    <div class=\"input-status-info\">\r\n      <div\r\n        class=\"text\"\r\n        :title=\"errorMessage\"\r\n      >\r\n        {{ errorMessage }}\r\n      </div>\r\n      <div\r\n        v-show=\"showLimit && (maxlength > 0)\"\r\n        class=\"limit\"\r\n      >\r\n        {{ limitText }}\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    // 輸入框是否有前綴\r\n    prefix: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    // 輸入框標籤文字\r\n    label: {\r\n      type: String,\r\n      required: true,\r\n      default: ''\r\n    },\r\n    // 輸入框type屬性\r\n    inputType: {\r\n      type: String,\r\n      required: true,\r\n      default: 'text'\r\n    },\r\n    // 輸入框文字最短設定\r\n    minlength: {\r\n      type: Number,\r\n      required: false,\r\n      default: -1\r\n    },\r\n    // 輸入框文字最長設定\r\n    maxlength: {\r\n      type: Number,\r\n      required: false,\r\n      default: -1\r\n    },\r\n    // 輸入框name屬性\r\n    name: {\r\n      type: String,\r\n      required: true,\r\n      default: ''\r\n    },\r\n    // 輸入框required屬性\r\n    required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    },\r\n    // 輸入框起始值\r\n    initialValue: {\r\n      type: [String, Number],\r\n      required: false,\r\n      default: ''\r\n    },\r\n    // 輸入框錯誤提示訊息\r\n    errorMessage: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    // 輸入框輸入內容上限顯示\r\n    showLimit: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    },\r\n    // 輸入框文字內容是否去除頭尾空白\r\n    doTrim: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      value: '',\r\n      isValid: true\r\n    }\r\n  },\r\n  computed: {\r\n    limitText () {\r\n      const validType = ['text', 'password']\r\n\r\n      if (validType.includes(this.inputType) && this.maxlength > 0) {\r\n        return `${this.value.length}/${this.maxlength}`\r\n      }\r\n\r\n      return ''\r\n    }\r\n  },\r\n  watch: {\r\n    initialValue (newValue) {\r\n      this.value = newValue\r\n    },\r\n    errorMessage (newValue) {\r\n      this.isValid = newValue === ''\r\n    }\r\n  },\r\n  created () {\r\n    this.value = this.initialValue\r\n  },\r\n  methods: {\r\n    inputChange (value) {\r\n      if (typeof value === 'string' && this.doTrim === true) {\r\n        this.value = value.trim()\r\n      }\r\n\r\n      // 通知上層輸入框的數值改變\r\n      this.$emit('input-change', this.value)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nsection.input-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n  height: 84px; // input + input-status-bar + input間的距離\r\n\r\n  .input-label {\r\n    color: #657786;\r\n    font-size: 15px;\r\n    left: 10px;\r\n    line-height: 15px;\r\n    position: absolute;\r\n    top: 5px;\r\n  }\r\n  .input-container {\r\n    background-color: #f5f8fa;\r\n    border-radius: 4px 4px 0px 0px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    font-size: 19px;\r\n    font-weight: 500;\r\n    line-height: 29px;\r\n    padding-left: 10px;\r\n    position: relative;\r\n    word-spacing: -0.25rem;\r\n\r\n    .prefix {\r\n      flex-grow: 0;\r\n      flex-shrink: 0;\r\n      padding-bottom: 4px;\r\n      padding-top: 20px;\r\n    }\r\n\r\n    .input-status-bar {\r\n      bottom: 0;\r\n      background-color: #657786;\r\n      border-radius: 0px 0px 4px 4px;\r\n      height: 2px;\r\n      left: 0;\r\n      position: absolute;\r\n      right: 0;\r\n    }\r\n  }\r\n  .input-status-info {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n    justify-content: space-between;\r\n    line-height: 15px;\r\n    margin-top: 5px;\r\n    white-space: nowrap;\r\n\r\n    .text {\r\n      color: #fc5a5a;\r\n      flex-shrink: 1;\r\n      min-width: 0;\r\n      overflow-x: clip;\r\n      overflow-y: visible;\r\n      text-overflow: ellipsis;\r\n    }\r\n    .limit {\r\n      color: #657786;\r\n    }\r\n  }\r\n\r\n  input {\r\n    background-color: inherit;\r\n    border: none;\r\n    flex-grow: 1;\r\n    padding-bottom: 4px;\r\n    padding-left: 0px;\r\n    padding-top: 20px;\r\n  }\r\n  input:focus {\r\n    border: none;\r\n    outline: none;\r\n  }\r\n  input:focus ~ .input-status-bar,\r\n  input:hover ~ .input-status-bar {\r\n    background-color: #50b5ff;\r\n  }\r\n  input.invalid ~ .input-status-bar {\r\n    background-color: #fc5a5a;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GeneralInput.vue?vue&type=template&id=675fcf95&scoped=true&\"\nimport script from \"./GeneralInput.vue?vue&type=script&lang=js&\"\nexport * from \"./GeneralInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GeneralInput.vue?vue&type=style&index=0&id=675fcf95&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"675fcf95\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARlSURBVHgB7VlbUhQxFD0ZeVTJzyyhXYG6AmEFwgqAUtA/YAXAChj+KNECVgCuAFyB4w7aHYyfKBDvvQkwj9w8eoYv5lRR03TSSU7uMzfAFFNM8SxgMEHYj1iknzdo4Z38WrRphrZrRI+ea3qqcYcf9Ns1X3GFCWFsInaNFjqHLVro9sOi81HTN1e4xr45FZKN0ZiIJ7BLj9uYBAxOxyHUiIjdIAkAew0kkEJNkt03x0SqEMVE7CYOEJMC2wLpP9nJL7KFLv2xbfTEXl6Q3QDvAfmNoWO+YAcFyCYiqjSLc/piMdxBDPcMC7gwHSGjj/UZFRE8R4zQLVbMN1wgE/lENnCpkOBd32nigUi6e/SzG2iqSSKvUICZnE5enRZHG3BI+hxUM9n1GyyTirWJ6FWIKC12j8ZmDJJpYQmFSEqEJLFGvU4GX4rOr4QWRypYkTdj4stDM7FX2iGvNKJ29hNJ2/qNimxODK1YoyzKjIi+JqN9q5B4QyQuMUzCLXBNbCwEg/WHsRdE3YoRJYJ5IVH1valZ7OZo1NcLiVkhUanjkY2JhIdfu/HOxPUqjkKcTQQqEZGG7ZuU1Uknwep0nhVXTNC4gZfYjsaPOZzEyOgSmR+a0NBuHSlRdy4hiUFUPicbHD7isr0Ul2ke1XZ0IrZvMjJU8jCdYLfNEfVL4wVWc7sO2emW1i9IxO9Y5f/lxG5fnQQNjNMGnIGGQTtth6TJCEuk1dfZRlRqXtH3NNqkLqk0ZdRO3dqC34WJGLz2T7VmgMFJypAk4m1vaOISiVgvShtWKUFzadwjSsRn2NVIw+MmDyBGpPeE0ogiYXtBF6ypFh9R9cxzVsmA88HZQUdtZWnrMamACOMG39W2Vr77DCLmQBh3+INCaKrVo13vBps4utoxJOKSwtNEn9g5JBg4NdWq1R2byfA2OrKSQklIrRLpbXhdGpEr6GhKxCWcidNjH86U979DL8NEbqTuFEarYcGBzy9HBRUSTb1MWOW1yF5Dn6CciMU62UW35BNVve7C2hIkwpOqKbMtrDs5EqdqM8UM+0HNvYbVq9ZqA6r7DR1JPfJ21h2HkyQkDWmplZlB9YrYbvyEGIDfkTrRjduXskhA0vRVdS5y148v9JSpmIj/agkhMk6n9+m09zZmE3SGWaY49RMZ6bkUIpgMn4kiziJdRSFb0dRMTm73aTVXFRPFuUS9uMZf2gBtrm1aR2TsNBE2xFu6AhizWu7LSvHTpKVdP36oqBQhq9JIYucrg15pcVkkMCNSYxvIC6Rcev1HTqJw4/JLpq6IxjVbNr6uUtfi+nAluZjxxeqmFXtX0DskQlleMqtkKrjGineVB7JoV+qsh3pVfhHj447GaudLpfxaYYPOEUavZkwEDcqm5XHEuUM2yBqThnPfOxOv/WoQo3ex5AyTAseKBbzS6mfJNWFM+EubPXrkm9wKJXA3vYcUQDsF6X0QkzDLB0h0dnkTVzoq8XKD19PuWu4JrqenmGKKZ4L/1ayJWixLovMAAAAASUVORK5CYII=\"","import { apiHelper } from './../utils/helpers'\r\n\r\nexport default {\r\n  userSignUp (data) {\r\n    return apiHelper.post('/users', {\r\n      ...data\r\n    })\r\n  },\r\n  userSignIn ({ account, password }) {\r\n    return apiHelper.post('/users/login', {\r\n      account,\r\n      password\r\n    })\r\n  },\r\n  adminSignIn ({ account, password }) {\r\n    return apiHelper.post('/admin/users/login', {\r\n      account,\r\n      password\r\n    })\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"main\",on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"sign-in-heading\"},[_c('img',{staticClass:\"logo-img\",attrs:{\"src\":_vm.LogoImg}}),_c('h1',{staticClass:\"sign-in-title\"},[_vm._v(\" 登入 Alphitter \")])]),_c('div',{staticClass:\"sign-in-content\"},_vm._l((_vm.inputKeys),function(key){return _c('GeneralInput',_vm._b({key:key,attrs:{\"name\":key,\"initial-value\":_vm.data[key],\"error-message\":_vm.error[key]},on:{\"input-change\":function($event){_vm.data[key] = $event}}},'GeneralInput',_vm.inputConfig[key],false))}),1),_vm._m(0),_c('div',{staticClass:\"other-option\"},[_c('router-link',{staticClass:\"route-control\",attrs:{\"to\":\"/signup\"}},[_vm._v(\" 註冊 Alphitter \")]),_c('span',[_vm._v(\"·\")]),_c('router-link',{staticClass:\"route-control\",attrs:{\"to\":\"/admin\"}},[_vm._v(\" 後台登入 \")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-in-button\"},[_c('button',{staticClass:\"sign-up\"},[_vm._v(\" 登入 \")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <form\r\n    class=\"main\"\r\n    @submit.prevent.stop=\"handleSubmit\"\r\n  >\r\n    <div class=\"sign-in-heading\">\r\n      <img\r\n        :src=\"LogoImg\"\r\n        class=\"logo-img\"\r\n      >\r\n      <h1 class=\"sign-in-title\">\r\n        登入 Alphitter\r\n      </h1>\r\n    </div>\r\n    <div class=\"sign-in-content\">\r\n      <GeneralInput\r\n        v-for=\"key in inputKeys\"\r\n        :key=\"key\"\r\n        v-bind=\"inputConfig[key]\"\r\n        :name=\"key\"\r\n        :initial-value=\"data[key]\"\r\n        :error-message=\"error[key]\"\r\n        @input-change=\"data[key] = $event\"\r\n      />\r\n    </div>\r\n    <div class=\"sign-in-button\">\r\n      <button class=\"sign-up\">\r\n        登入\r\n      </button>\r\n    </div>\r\n    <div class=\"other-option\">\r\n      <router-link\r\n        to=\"/signup\"\r\n        class=\"route-control\"\r\n      >\r\n        註冊 Alphitter\r\n      </router-link>\r\n      <span>·</span>\r\n      <router-link\r\n        to=\"/admin\"\r\n        class=\"route-control\"\r\n      >\r\n        後台登入\r\n      </router-link>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport LogoImg from '../assets/images/Logo.png'\r\nimport authorizationAPI from './../apis/authorization'\r\nimport { Toast } from './../utils/helpers'\r\nimport GeneralInput from './../components/GeneralInput.vue'\r\nimport { inputValidationMethod } from './../utils/mixins'\r\nconst inputKeys = ['account', 'password']\r\nconst inputConfig = {\r\n  account: {\r\n    label: '帳號',\r\n    inputType: 'text',\r\n    minlength: 1,\r\n    maxlength: 20,\r\n    required: true\r\n  },\r\n  password: {\r\n    label: '密碼',\r\n    inputType: 'password',\r\n    minlength: 5,\r\n    maxlength: 20,\r\n    required: true\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'UserSignIn',\r\n  components: {\r\n    GeneralInput\r\n  },\r\n  mixins: [inputValidationMethod],\r\n\r\n  data () {\r\n    return {\r\n      LogoImg,\r\n      data: {\r\n        account: '',\r\n        password: ''\r\n      },\r\n      error: {\r\n        account: '',\r\n        password: ''\r\n      },\r\n      inputKeys,\r\n      inputConfig\r\n    }\r\n  },\r\n  methods: {\r\n    async handleSubmit () {\r\n      try {\r\n        let status\r\n        let message\r\n        let pass = true\r\n        this.error.account = ''\r\n        this.error.password = '';\r\n\r\n        ({ status, message } = this.checkAccount(this.data.account))\r\n        if (status === false) {\r\n          this.error.account = message\r\n          pass = false\r\n        }\r\n\r\n        ({ status, message } = this.checkPassword(this.data.password))\r\n        if (status === false) {\r\n          this.error.password = message\r\n          pass = false\r\n        }\r\n\r\n        if (pass === false) {\r\n          return\r\n        }\r\n\r\n        const { data } = await authorizationAPI.userSignIn({\r\n          account: this.data.account,\r\n          password: this.data.password\r\n        })\r\n\r\n        // 針對 http code 200 的處理流程\r\n        if (data.status !== 'success') {\r\n          if (/帳號/.test(data.message)) {\r\n            this.error.account = data.message\r\n            return\r\n          }\r\n\r\n          if (/密碼/.test(data.message)) {\r\n            this.error.password = data.message\r\n            return\r\n          }\r\n\r\n          this.error.account = data.message\r\n          return\r\n        }\r\n\r\n        localStorage.setItem('token', data.token)\r\n        this.$store.commit('setCurrentUser', data.userData)\r\n        this.$router.push('/home')\r\n      } catch (error) {\r\n        const { response } = error\r\n\r\n        // 針對 http code 不是 200 的處理流程\r\n        if (response) {\r\n          const { data } = response\r\n\r\n          if (/帳號/.test(data.message)) {\r\n            this.error.account = data.message\r\n            return\r\n          }\r\n\r\n          if (/密碼/.test(data.message)) {\r\n            this.error.password = data.message\r\n            return\r\n          }\r\n        }\r\n\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '目前無法登入，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n  width: 540px;\r\n  height: 100%;\r\n  margin: 60px auto;\r\n\r\n  .sign-in-heading {\r\n    display: flex;\r\n    flex-direction: column;\r\n    .logo-img {\r\n      width: 50px;\r\n      height: 50px;\r\n      margin: 0 auto;\r\n    }\r\n\r\n    .sign-in-title {\r\n      font-family: 'Noto Sans TC';\r\n      font-style: normal;\r\n      font-weight: bold;\r\n      font-size: 23px;\r\n      line-height: 33px;\r\n      display: inline-block;\r\n      margin: 0 auto;\r\n      margin-top: 20px;\r\n    }\r\n  }\r\n\r\n  .sign-in-content {\r\n    margin-top: 40px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    label {\r\n      position: relative;\r\n      margin-bottom: 30px;\r\n\r\n      input {\r\n        width: 100%;\r\n        height: 52px;\r\n        background-color: #f5f8fa;\r\n        border: none;\r\n        border-bottom: 2px solid #657786;\r\n        border-radius: 0px 0px 4px 4px;\r\n        padding-top: 25px;\r\n        padding-left: 10px;\r\n      }\r\n      .input-title {\r\n        position: absolute;\r\n        top: 5px;\r\n        left: 10px;\r\n        font-family: 'Noto Sans TC';\r\n        font-style: normal;\r\n        font-weight: 500;\r\n        font-size: 15px;\r\n        line-height: 15px;\r\n        color: #657786;\r\n      }\r\n    }\r\n  }\r\n\r\n  .sign-up {\r\n    margin: 10px auto 20px;\r\n    width: 100%;\r\n    height: 46px;\r\n    background-color: #ff6600;\r\n    border-radius: 50px;\r\n    border: none;\r\n    color: #ffffff;\r\n    font-family: 'Noto Sans TC';\r\n    font-style: normal;\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    line-height: 26px;\r\n    text-align: center;\r\n  }\r\n\r\n  .other-option {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    font-family: 'Noto Sans TC';\r\n    font-style: normal;\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    line-height: 26px;\r\n    color: #0099ff;\r\n\r\n    .route-control {\r\n      text-decoration: underline;\r\n      color: #0099ff;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSignIn.vue?vue&type=template&id=7868d78c&scoped=true&\"\nimport script from \"./UserSignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSignIn.vue?vue&type=style&index=0&id=7868d78c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7868d78c\",\n  null\n  \n)\n\nexport default component.exports","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSignIn.vue?vue&type=style&index=0&id=7868d78c&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralInput.vue?vue&type=style&index=0&id=675fcf95&lang=scss&scoped=true&\""],"sourceRoot":""}